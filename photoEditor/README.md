# HM_Postupashki: PhotoEditor Application

### Описание:
PhotoEditor — это серверное приложение на основе Spring Boot, предназначенное для обработки изображений. 
Приложение поддерживает создание задач на обработку изображений с применением различных фильтров, а также позволяет
отслеживать статус обработки и получать результаты.

### Основные функции:
- Создание задачи на обработку изображения: Клиент может отправить запрос на создание новой задачи, после чего сервер 
асинхронно обрабатывает изображение.
- Получение статуса задачи: Клиент может проверить текущий статус задачи (в процессе или завершена).
- Получение результата обработки: После завершения обработки, клиент может получить обработанное изображение.

### Структура:
Проект состоит из следующих основных компонентов:
- Task — основной класс задачи, содержащий информацию об оригинальном изображении, обработанном изображении, статусе задачи и типе фильтра.
- TaskController — контроллер, обрабатывающий HTTP-запросы на создание задачи, получение статуса и результата.
- TaskService — сервисный слой, управляющий задачами и их состоянием.
- InMemoryTaskRepository — репозиторий, реализующий хранение задач в памяти (для HM №1).
- TaskMapper — интерфейс MapStruct для преобразования сущностей.
- NotFoundException — исключение, выбрасываемое в случае, если задача не найдена.
- PhotoEditorApplicationTests — тесты для проверки корректности работы основных функциональностей приложения.

### API Endpoint:
1. Создание новой задачи
    - POST /task: Создаёт новую задачу на обработку изображения.
```json
{
  "taskId": "UUID задачи"
}
```

2. Получение статуса задачи
    - GET /task/status/{taskId}: Возвращает статус задачи.
```json
{
  "taskStatusEnum": "IN_PROGRESS или READY"
}
```

3. Получение результата обработки
    - GET /task/result/{taskId}: Возвращает результат обработки изображения.
```json
{
  "id": "UUID задачи",
  "taskStatus": "READY",
  "originalImage": "Оригинальное изображение",
  "processedImage": "Обработанное изображение",
  "filterType": "Тип примененного фильтра"
}
```

### Сборка и запуск
#### Локальный запуск
1. Склонируйте репозиторий:
```text
git clone https://github.com/your-repository/photoeditor.git
cd photoeditor
```
2. Соберите проект с помощью Maven:
```text
mvn clean package
```
3. Запустите приложение:
```text
java -jar target/your-app-name.jar
```
#### Запуск в Docker
1. Соберите Docker образ:
```text
docker build -t photoeditor .
```
2. Запустите Docker контейнер:
```text
docker run -p 8080:8080 photoeditor
```
### Swagger-документация
Swagger-документация для API автоматически генерируется с помощью Springdoc OpenAPI. После запуска приложения, 
документация будет доступна по адресу `http://localhost:8080/swagger-ui.html`.